# decode a base64 string to an image

import base64
import io
from PIL import Image


# this is the base64 that we will be given
base64_string = "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FFAElFMApKQBS0DEopiQUUhhRQhBRQAUUwEooAKKACimAUVICUtMBKKACikAUUwCikAlFABRQAlFAE1NqugwopCCigYUUhBRQAUUxhRSEFFACUUxhRQIKKQBRQAUlABRTAKKQBRQAUUAJRQAUUAFFAEtJQPoJRTAKKBC0lABRSAKKYBRSGFFAgooGJRQAUUCCii4wooEJRQAtJQAUUAFFACUUAFFABRQMkoqgEoqQCihAFLTASlpAJRQhBRTAKKQCUUwCigAopAFFAxKKBBRTuAUUgCigBKKACigApKAFpKAJaKYxKKVgCigQUUAJS0DCigAoosAlFArBRQMKKYgopAFJQMKKBBRQAUUAFFABSUAFFABRQAUUASUU7jG0tIAooEFFACUtMAopMYUUCEpaAEopgFJQAtFIApKACigAooAKKAEooAKKACigAooASigCWkpgJS0AFFABRSGFFAgooGJS0xBRSASihAFFMoKKRIUlABRTAKKQBRQMSloEJRQAUUAFFACUUAS0lMoKKQhKKYC0UAFFABSUgFpKYhaSgYUUCCigYUUhCUUDCimIKKQBRQAlFMAooAKKQBSUAFFAyWkpiEpaAEooAKWhgJS0DEop2FcKKQBRQAUU7AFFIAopDEop2EFFIAooASigBaSgAooAKKACkoAKKAJKSmAUUrgFLQAUU7gJS0hiUUwCikIKKACimAUlIBaSmAUUgCimAUUgCigBKKACigAooAKSgAooA//2QAAACgAooAKKACkoAKKAP/ZAAAooAKKACigAooASigD/9kAAAAAAAAAAAAAAAAAAAAAAMBaSkAUUAFFMAopAJRQB//ZAAAAAAAAAAAAAAAAAAAATASikAUUAJRQAtFACUUALSUALSUAFFABRQAUUAJRQAUUAFFACUUAFLQAlFABRQAlFABRQB//2Q=="

# decode the base64 string
image_data = base64.b64decode(base64_string)

# after decoding, save the image as a png and open it
# save it to this images folder: C:\Users\kaleb\Documents\00_College\Senior Capstone\api\static\images\esp32Images
image_path = "C:\\Users\\kaleb\\Documents\\00_College\\Senior Capstone\\api\\static\\images\\esp32Images\\image.png"

image = Image.open(io.BytesIO(image_data))
image.save(image_path)
image.show()
